import{_}from"./demo-DcH_UwcN.js";import{_ as f,A as m,$ as v,o as w,G as k,c as W,aa as r,d as P,L as x,a8 as i,ah as B,b as c,e as I,f as l,ab as u,ae as b}from"./index-BOUM_9ip.js";const E={__name:"视频画中画",setup(g){const o=m(),e=v({pipWindow:null});w(()=>{o.value.addEventListener("enterpictureinpicture",n=>{console.log("画中画已开启"),e.pipWindow=n.pictureInPictureWindow,console.log("pipWindow",e.pipWindow),e.pipWindow.addEventListener("resize",function(){console.log("pipWindow",e.pipWindow)})}),o.value.addEventListener("leavepictureinpicture",n=>{console.log("画中画已关闭"),e.pipWindow=null})}),k(()=>{a(),o.value.pause()});function p(){o.value.requestPictureInPicture()}function a(){document.pictureInPictureElement&&document.exitPictureInPicture()}return(n,t)=>{const s=b,d=B;return c(),W("section",null,[r(" 如果重复请求进入画中画，那么新的视频将会替换旧的视频。也就是说，每个浏览器只会存在一个画中画视频，无论是多个用户还是隐身窗口 "),r(" 可给video添加disablePictureInPicture属性，禁止画中画 "),P("video",{src:_,controls:"",autoplay:"",loop:"",ref_key:"videlRef",ref:o},null,512),x(d,null,{default:i(()=>[I(e).pipWindow?(c(),l(s,{key:0,onClick:a},{default:i(()=>t[0]||(t[0]=[u("关闭画中画")])),_:1})):(c(),l(s,{key:1,onClick:p},{default:i(()=>t[1]||(t[1]=[u("开启画中画")])),_:1}))]),_:1})])}}},L=f(E,[["__scopeId","data-v-68c6b31f"]]);export{L as default};
